<!DOCTYPE html>
<html lang="en">
<head>
    <title>Wallowa County, OR: Land Use History and Rangeland Monitoring </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--meta data for sharing links on Facebook-->
    <meta property="og:title" content="The major cities in Oregon"/>
    <meta property="og:url" content="http://geoviz.ceoas.oregonstate.edu/storymap/examples/2.5/video.html"/>
    <meta property="og:description" content="This is an example of a storymap."/>
    <meta property="og:image" content="../../img/social.png"/>

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!--leaflet css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">


    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="../../img/favicon.ico" type="image/x-icon">

    <!--Fonts-->
    <link href="https://fonts.googleapis.com/css?family=Cairo" rel="stylesheet">


    <link rel="stylesheet" type="text/css" href="css/storymap.2.5.css">
    <!--add required libraries-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.js"></script>
    <!--jquery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>

    <!--boostrap-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <!--leaflet.ajax for asynchronously adding geojson data-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--mini globle map-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <script src="js/globeminimap.js"></script>

    <!--story map plugin-->
    <script src="js/storymap.2.5.js"></script>
</head>
<body>

<div id="storymap" class="container-fluid">
    <div class="row">
        <div class="col-sm-6 col-md-4 storymap-story">
            <section data-scene="overview" data-background="img/wcranch.png">
                <div class="fullscreen text-center">

                    <h1 class="display-4 d-flex justify-content-center">Wallowa County, Oregon: Land Tenure, Habitat Change, and Rangeland Monitoring</h1>

                    <h5 class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">Wallowa County has a long, proud history of working lands
                      stewardship with ranching, timber harvest, and outdoors recreation forming the foundation of the local economy and identity.
                    </h5>
                    <h5 class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">Changes in land ownership
                      and resource mangement policy have lead to habitat changes that pose threats to the stability of the of this social ecological system and
                      the the lifestyles it supports.
                    </h5>
                    <h5 class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">Local stakeholders have come together in a call for a
                      community-based rangeland assessment and montioring system.
                    </h5>
                </div>
            </section>
            <section data-scene="wallowa">
                <h2>Wallow County, OR</h2>
                <h5>Wallowa County in the northeastern-most county in Oregon and falls within the Blue Mountains Ecoregion.
                  Its climate characterized by warm, dry summers and cold, moist winters.</h5>
                <h5>Elevation ranges from a maximum of 9825 ft at the peak of Eagle Cap in the Wallowa Mountains down to
                  500 ft on the banks of the Snake River in Hells Canyon, across variably rugged terrain.</h5>
                <h5>The impetus for settling the area in the late 1870s was the excellent forage the ecosystem provided for
                  livestock so ranching and other agriculture continue to be one of the primary sources of income and social
                  identity. The forest product and outdoors sports and tourism industries have also had a significant economic
                  and cultural influence.</h5>

            </section>

            <section data-scene="nlcd">
                <h2>General Habitat Distribution</h2>
                <h5>As indicated by the National Landcover Dataset, most of the county is evergreen forest (48%) or shrub/scrub
                  and herbaceous cover (46%) which, in the case of Wallowa County represents prairie.  </h5>
                <h5>The terrain and weather patterns create a landscape mosaic of rangeland habitats that vary from open prairie, to
                  open canopy forests with grassland understory, to dense forest with bare ground and riparian zones that connect
                  them all.</h5>
                <h5> Historical analysis suggests that past management policies, driven by the national trends and social values
                  of the time, have changed the ecological baseline and socio-economic conditions on the landscape.</h5>
            </section>

            <section data-scene="nezpercet">
                <h2>Nez Perce Land Tenure</h2>
                <h5>Lands that are now Wallowa county were historically occupied by the Nez Perce Tribe, who were organized into smaller
                  bands losely governed by a local cheif, dispersed across the landscape. They were displaced by white settlement in the
                  late 1800’s </h5>
                <h5>The historic Nez Perece homeland covered much of North-central Idaho and protions of Southeast Washington State and
                  Northeast Oregon.</h5>
                <h5>This territory was reduced by about half in an 1855 treaty with the United States.</h5>
                <h5>Official Nez Perce territory was further reduced to the boundary of their Lapwai Reservation in Idaho in 1863
                  by another with the United States.</h5>
                <h5>The Chief Joseph band of the Nez Perce was forcibly removed from Wallowa County in 1877.</h5>
                <h5>The Nez Perce War led to a dispesal of the tribe among many reservations accross the Pacific Norhtwest.</h5>
            </section>

            <section data-scene="nezpercem">
                <h2>Nez Perce Land Management</h2>
                <h5>The Nez Perce actively manageg with fire and introduced large herds of livestock as horses and cattle
                became available to them in the early 1700’s and mid 1800’s. </h5>
                <h5>Government records indicate that in 1876 the Nez Perce tribe owned about 14,000 horses and 9,000 cattle. It
                is known that band leaders owned over 4,000 horses of their own, implying large herds within Wallowa Valley. </h5>
                <h5>Livestock were fed off of the landscape using pastoral grazing methods that followed a seasonal patterns of
                forage abundance, wintering the animals in the lower elevation canyons then “following the forage” as higher
                elevations progressively provided vegetation for grazers as the seasons progressed. </h5>
                <h5>The Nez Perce tribe was known to take advantage of natural burn cycles, and sometimes intentionally burn to
                improve hunting and livestock forage as well as ease of travel through the forest.</h5>
                <h5>Early survey and settlement records indicate that Nez Perce land tenure was marked by a very healthy ecology at
                the end of their control of the Wallowa Valley</h5>
            </section>

            <section data-scene="western">
              <h2>Western Land Tenure and Management</h2>
              <h5>Early Settlers actually learned from the Nez Pecre and adopted their pastoral practices to cope with the severe
              weather and seasonal forage availability patterns.</h5>
              <h5>Pastoral practices gave way to greater US national trends with land coming under incresed government control,
              primarliy the U.S. Forest Service in Wallowa County.</h5>
              <h5>Rangeland Managment is conducted using the USFS Allotment system.  A command and control system characterized by
              fenced pastures within which a USFS manager, and a grazing lease, dictates dates and number of cattle to be grazed.
              Historic economic and social factors lead to overgrazing in some areas.<h5/>
              <h5>Fire suppression became a national policy during this time period and more recent management changes have lead to
              drastically reduced forest harest or thinning on USFS lands.</h5>
              <h5>These changes in land management have had both long and short-term impacts on the ecological integrity of both
              prairie and forest rangeland habitats that impact ranching, forestry, and outdoors tourism in ways that threaten working
              lands lifestyles" in Wallowa County.</h5>
            </section>

            <section data-scene="forest">
                <h2>Forest Habitat Issues</h2>
                <h5>Fire suppression has caused a transition from forests dominated by Ponderosa Pine with open an canopy that have traditionally
                provided ample forage for livestock to mixed Fir/Pine/Spruce forests with a closed canopy that provide little if any forage.</h5>
                <h5>Severe curtailment of forest harvests have worsened this problem and incresed likelihood of insect infestations that kill
                vast tracts of forest and increase the likelihood of catastrophic wildfires.</h5>
                <h5>Reduced forage for livestock theatens the profitability of ranching operations, which rely heavily of public as well as private
                lands.</h5>
                <h5>Insect kills and catastrophic wildfires theaten the profitability of forest harvest and outdoors tourism operations.</h5>
            </section>

            <section data-scene="prairie">
                <h2>Prairie Habitat Issues</h2>
                <h5>Native bunch grass prairies are threatened by infestation and increasing domiation of invasive annual grass species.</h5>
                <h5>Many of these new species are poor quality livestock forage, further reducing rancher acces to forage and theatens the
                profitability of ranching operations.</h5>
                <h5>These invasive species also initiate a new fire cycle, futhering their dominance potentially interrupting grazing patterns.</h5>
                <!-- <img src="../../img/oregon_flag.png" class="img-responsive img-thumbnail" alt="responsive image"
                     alt-text="the flag of oregon"> -->
            </section>

            <section data-scene="wcrams">
                <h2>Wallowa County Rangeland Assessment and Monitoring System (WC-RAMS)</h2>
                <h4>LandTrendr:  </h4>
                <h5>Maps of habitat change trends</h5>
                <h4>PHYGROW/LEWS:  </h4>
                <h5>Near real-time forecasts of forage availability across the landscape.</h5>
                <h4>CBON Methods:  </h4>
                <h5>Collection of local and place-based scientific information.</h5>
            </section>

            <section data-scene="end" data-background="img/zumhc.jpg">
                <div class="fullscreen text-center">
                    <h1 class="display-4 d-flex justify-content-center">Thanks for watching.</h1>
                    <h2 class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">Interested? Join us!</h2>
                </div>
            </section>

        </div>
        <!--map div-->
        <div class="col-sm-6 col-md-8 storymap-map"></div>
    </div>


    <dl>
        <dt>
            <!--facebook icon-->
            <a class="fab fa-facebook-square btn"
               href="https://facebook.com/sharer.php?u=http://geoviz.ceoas.oregonstate.edu/storymap/examples/2.5/video.html"
               target="_blank"></a>
        </dt>
        <dt>
            <!--facebook icon-->
            <a class="fab fa-github btn" href="https://github.com/jakobzhao/storymap" style="top:40px"
               target="_blank"></a>
        </dt>
        <dt>
            <!--info icon-->
            <i class="fas fa-info-circle btn" style="top:60px" data-toggle="modal" data-target="#info-modal"></i>
        </dt>
    </dl>

    <!--the info page-->
    <div class="modal fade" id="info-modal" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">About</h4>
                </div>
                <div class="modal-body">
                    <p>This is a web map of major cities in Oregon. It is mainly made as a demo for a course GEOG 371:
                        Web Mapping provided by Oregon State University. The story map library is derived from the
                        storymap plugin for leaflet at <a>http://atlefren.github.io/storymap/</a>, and its functionality
                        relies on both leaflet and Boostrap.</p>
                    <p><b>storymap.js</b> | Released Date: 02/20/2017 | Version: 2.5 | MIT License </p>
                    <p><b>Author: Bo Zhao</b> | College of Earth, Ocean, Atmospheric Science | Oregon State University
                    </p>
                    <p>The context about Oregon cities was collected from Wikipedia.</p>
                    <p>The <a href="https://www.youtube.com/watch?v=UJ_vQC9PNY4">background video</a> on the front page
                        was clipped from Youtube. </p>
                    <p>The favicon image was acquired from <a>http://www.udlcenter.org/advocacy/state/oregon.</a></p>
                    <p>This story map uses geospatial data from mapbox, Google Earth Engine, ESRI Map, Open Street Maps
                        and Oregon Explorer.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- main javascript -->
<script type="text/javascript">


    // Create Legend Contents in html format
    var county_legend = '<i style="background: orange; opacity: 0.5"></i><p><b>Counties</b></p>';
    var forest_legend = '<i style="background: green; opacity: 0.5"></i><p><b>Forest</b></p>';

    // For each layer, the first variable is the layer, the second is the legend. The layer variable can be any kinds of layers that leaflet.js supports.
    // var layers = {
    //      layer1: {layer: layer1, legend: legend1},
    //      layer2: {layer: layer2, legend: legend2}
    //      ...
    // }

    var layers = {
        ESRI: {layer: L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}')},
        counties: {
            layer: L.geoJson.ajax('../../assets/counties.geojson', {
                color: 'orange',
                weight: 2,
                opacity: 0.3
            }), legend: county_legend
        },
        GEE: {
            layer: L.tileLayer('http://earthengine.google.org/static/hansen_2013/tree_alpha/{z}/{x}/{y}.png'),
            legend: forest_legend
        },

        satellite: {
            layer: L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {
                id: 'mapbox.satellite'
            })
        },

        esriworldshadedrelief: {layer: L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}.png')},

        mboxroadswater: {layer: L.tileLayer('https://api.mapbox.com/styles/v1/hogrefek/cjt66knal0qdj1fsafcsne5m9/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiaG9ncmVmZWsiLCJhIjoiY2pycWZha3FuMW81aDQzbXVxbDV6ZWZraiJ9.Kkt53JWsV-7-kRGVq7zBSw')},
        nlcd: {layer: L.tileLayer('assets/wallowa_nlcd/{z}/{x}/{y}.png',{
            maxZoom: 10,
            tms:false,
            opacity: 0.6,
            attribution: 'Dataset NLCD-11, Tiles generated by QTiles'}
        )},

        forgain: {layer: L.tileLayer('assets/forestgain/{z}/{x}/{y}.png',{
            maxZoom: 10,
            tms:false,
            opacity: 1.0,
            attribution: 'Dataset generated by LandTrendr, Tiles generated by QTiles'}
        )},

        pragain: {layer: L.tileLayer('assets/prairiegain/{z}/{x}/{y}.png',{
            maxZoom: 10,
            tms:false,
            opacity: 1.0,
            attribution: 'Dataset generated by LandTrendr, Tiles generated by QTiles'}
        )},

        forgain2: {layer: L.tileLayer('assets/forestgain/{z}/{x}/{y}.png',{
            maxZoom: 10,
            tms:false,
            opacity: 0.6,
            attribution: 'Dataset generated by LandTrendr, Tiles generated by QTiles'}
        )},

        pragain2: {layer: L.tileLayer('assets/prairiegain/{z}/{x}/{y}.png',{
            maxZoom: 10,
            tms:false,
            opacity: 0.6,
            attribution: 'Dataset generated by LandTrendr, Tiles generated by QTiles'}
        )},

        elev: {layer: L.tileLayer('assets/elevation/{z}/{x}/{y}.png',{
            maxZoom: 10,
            tms:false,
            opacity: 0.8,
            attribution: 'Dataset generated by LandTrendr, Tiles generated by QTiles'}
        )},

        elevc: {layer: L.tileLayer('assets/elevcolor/{z}/{x}/{y}.png',{
            maxZoom: 10,
            tms:false,
            opacity: 0.7,
            attribution: 'Dataset generated by LandTrendr, Tiles generated by QTiles'}
        )},
        ltenure: {layer: L.tileLayer('assets/landtenure/{z}/{x}/{y}.png',{
            maxZoom: 10,
            tms:false,
            opacity: 0.6,
            attribution: 'Dataset generated by LandTrendr, Tiles generated by QTiles'}
        )},

        wcounty: {layer: L.geoJson.ajax('assets/wcboundary.geojson',{
            color: 'black',
            weight: 2,
            opacity: 0.3}
        )},
        wcountydet: {layer: L.geoJson.ajax('assets/wcboundarycompL.json',{
            color: 'black',
            weight: 2,
            opacity: 0.9}
        )},
        nwstates: {layer: L.geoJson.ajax('assets/statesnw_L.json',{
            color: 'black',
            weight: 2,
            opacity: 0.3}
        )},
        nphist: {layer: L.geoJson.ajax('assets/nphistdist.geojson',{
            color: 'gold',
            weight: 2,
            opacity: 0.8}
        )},
        np1855: {layer: L.geoJson.ajax('assets/np1855treat.geojson',{
            color: 'orange',
            weight: 2,
            opacity: 0.8}
        )},
        nwres: {layer: L.geoJson.ajax('assets/reservationsnw.geojson',{
            color: 'black',
            weight: 2,
            opacity: 0.4}
          )},
        npres: {layer: L.geoJson.ajax('assets/npreservations.geojson',{
            color: 'orangered',
            weight: 2,
            opacity: 0.8}
          )},
        // landman: {layer: L.geoJson.ajax('assets/landmanagement.Json',{
        //     color: 'blue',
        //     weight: 2,
        //     opacity: 0.4}
        //   )},
        // rmuallot: {layer: L.geoJson.ajax('assets/rmuallotL.Json',{
        //     color: 'black',
        //     weight: 2,
        //     opacity: 0.4}
        //   )},
        // rmusub: {layer: L.geoJson.ajax('assets/rmusubL.Json',{
        //     color: 'black',
        //     weight: 1,
        //     opacity: 0.4})},
        // zumpic: {layer:('img/Zumwalt.jpg')}
    };

    var scenes = {
        // overview: {lat: 44.0000000, lng: -123.5000000, zoom: 7, name: 'Cover Page', layers: []},
        wallowa: {lat: 44.540, lng: -119.40, zoom: 8, name: 'wallowa', layers: [layers.nwstates,layers.elevc,layers.wcountydet,layers.mboxroadswater]},
        nezpercet: {lat: 46.640, lng: -118.90, zoom: 8, name: 'nezperce', layers: [layers.nwstates,layers.elevc,layers.wcountydet,layers.nphist,layers.np1855,layers.nwres,layers.npres,layers.mboxroadswater]},
        nezpercem: {lat: 45.540, lng: -117.70, zoom: 10, name: 'nezperce', layers: [layers.elevc,layers.wcountydet,layers.mboxroadswater]},
        western: {lat: 45.540, lng: -117.70, zoom: 10, name: 'western', layers: [layers.ltenure,layers.wcountydet,layers.mboxroadswater]},
        nlcd: {lat: 45.540, lng: -117.70, zoom: 10, name: 'nlcd', layers: [layers.nlcd,layers.mboxroadswater,layers.wcountydet]},
        forest: {lat: 45.540, lng: -117.70, zoom: 10, name: 'forest', layers: [layers.forgain,layers.mboxroadswater,layers.wcountydet]},
        prairie: {lat: 45.540, lng: -117.70, zoom: 10, name: 'prairie', layers: [layers.pragain,layers.mboxroadswater,layers.wcountydet]},
        wcrams: {lat: 45.540, lng: -117.70, zoom: 10, name: 'prairie', layers: [layers.pragain2,layers.forgain2,layers.mboxroadswater,layers.wcountydet]},
        end: {lat: 44.0000000, lng: -123.5000000, zoom: 7, name: 'The End'}
    };

    $('#storymap').storymap({
        scenes: scenes,
        baselayer: layers.esriworldshadedrelief,
        legend: true, // if you do not want a legend feature, you can simply not define the createLegend function.
        credits: "",
        loader: true,
        scalebar: false,
        flyo: true,
        navwidget: true,

        createMap: function () {
            // create a map in the "map" div, set the view to a given place and zoom
            var map = L.map($(".storymap-map")[0], {
                zoomControl: false, scrollWheelZoom: false, fadeAnimation: true,
                zoomAnimation: true
            }).setView([44, -120], 7);

            //add an miniglobe
            new L.Control.GlobeMiniMap({
                marker: 'red',
                position: 'bottomright'
            }).addTo(map);


            return map;
        }
    });
</script>
</body>
</html>
